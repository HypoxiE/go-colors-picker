package gocolorspicker

import (
	"encoding/json"
	"fmt"
	"testing"

	"github.com/lucasb-eyer/go-colorful"
)

func TestSortByDistance(t *testing.T) {

	a := map[colorful.Color]int{
		{R: 0.21441353101749122, G: 0.15467637245980517, B: 0.36818098449569514}: 27475,
		{R: 0.3763562902949117, G: 0.30944824333571025, B: 0.5582792645452471}:   118404,
		{R: 0.40838168806362934, G: 0.4812199294020863, B: 0.7079178453132162}:   64880,
		{R: 0.5219166917192773, G: 0.6554278985870375, B: 0.7967146006613791}:    23480,
		{R: 0.5612828168965933, G: 0.6293232555022191, B: 0.7908812791448006}:    176851,
		{R: 0.607981839140361, G: 0.5286264609358994, B: 0.7307065946349418}:     327971,
		{R: 0.7126579186676514, G: 0.7853326254482788, B: 0.882377527477057}:     219156,
		{R: 0.8267259270547928, G: 0.7238731213383232, B: 0.8720209319652252}:    1158000,
		{R: 0.8744542352052336, G: 0.8664962729702037, B: 0.9278833591444283}:    567889,
		{R: 0.967925855021158, G: 0.9759492375396482, B: 0.9723625133197197}:     162850,
	}

	data, err := json.Marshal(SortByDistance(a))
	if err != nil {
		panic(err)
	}

	fmt.Println(string(data))
}

func TestGetConfig(t *testing.T) {
	a := map[colorful.Color]int{
		{R: 0.21441353101749122, G: 0.15467637245980517, B: 0.36818098449569514}: 27475,
		{R: 0.3763562902949117, G: 0.30944824333571025, B: 0.5582792645452471}:   118404,
		{R: 0.40838168806362934, G: 0.4812199294020863, B: 0.7079178453132162}:   64880,
		{R: 0.5219166917192773, G: 0.6554278985870375, B: 0.7967146006613791}:    23480,
		{R: 0.5612828168965933, G: 0.6293232555022191, B: 0.7908812791448006}:    176851,
		{R: 0.607981839140361, G: 0.5286264609358994, B: 0.7307065946349418}:     327971,
		{R: 0.7126579186676514, G: 0.7853326254482788, B: 0.882377527477057}:     219156,
		{R: 0.8267259270547928, G: 0.7238731213383232, B: 0.8720209319652252}:    1158000,
		{R: 0.8744542352052336, G: 0.8664962729702037, B: 0.9278833591444283}:    567889,
		{R: 0.967925855021158, G: 0.9759492375396482, B: 0.9723625133197197}:     162850,
	}

	data, err := json.Marshal(GetConfig(a))
	if err != nil {
		panic(err)
	}

	fmt.Println(string(data))
}
